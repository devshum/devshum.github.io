const dataController=function(){const e={pass:!0,rootStrings:{},allItemsArr:[],allAnsweredArr:[],rightAnswersArr:["a foe","a robot","an algorithm","artificial intelligence (AI)","autonomous","a drone"],allStartedArr:["a robot","a drone","autonomous","a foe","an algorithm","artificial intelligence (AI)"],quizAnswers:[{answer:"Which expert has a different view from the others regarding the timescale of AI becoming much more autonomous?",rightAnswer:"Expert A"},{answer:"Which expert has a similar view to A about the responsibility humans have for the future of AI?",rightAnswer:"Expert D"},{answer:"Which expert agrees with B that the negative aspects of AI far outweigh the positive aspects?",rightAnswer:"Expert D"},{answer:"Which expert seems to disagree with B about how fast humans can change?",rightAnswer:"Expert C"},{answer:"Which expert gives their opinion about what will happen with the same level of certainty as D?",rightAnswer:"Expert C"}]},t=function(e){let t=e.split("-");return t=t[1]};return{setValues:function(t,n){e.rootStrings.itemID=t,e.rootStrings.itemText=n},resetValues:function(){e.rootStrings.itemID="",e.rootStrings.itemText=""},getSetValues:function(){return e.rootStrings},addItem:function(n){if(n){const r=t(n);e.allItemsArr.push(r)}},removeItem:function(n){if(n){const r=t(n),s=e.allItemsArr.findIndex(e=>e===r);e.allItemsArr.splice(s,1)}},updateRemainLabel:function(){const t=document.querySelector(".js-label"),n=document.querySelector(".btn--finish");t.textContent=6-e.allItemsArr.length,e.allItemsArr.length>0?n.disabled=!1:n.disabled=!0},getRightAnswers:function(){return e.rightAnswersArr},sortAnswers:function(t){t.forEach(t=>{t&&e.allAnsweredArr.push(t)})},getSortAnswers:function(){return e.allAnsweredArr},getStartedValues:function(){return e.allStartedArr},clearSortAnswers:function(){e.allAnsweredArr=[]},getPass:function(){return e.pass},passFalse:function(){e.pass=!1},restartState:function(){e.pass=!0,e.allItemsArr=[]},getQuizAnswers:function(){return e.quizAnswers}}}(),UIController=function(){const e={remainLabel:".js-label",item:".js-item",itemsContainer:".js-items-container",inputsContainer:".js-inputs-container",cell:".js-cell",btnFinish:".btn--finish",btnCancel:".btn--cancel",btnOK:".btn--ok",btnAgain:".btn--again",btnFeedback:".btn--show-feedback",btnShowAnswers:".btn--show-answers",btnHideAnswers:".btn--hide-answers",btnShowFeedback:".btn--show-feedback",modalBody:".modal-body",modalFooter:".modal-footer",backdrop:".modal",btnFinishHide:".btn-finish-hide",quizGroup:".quiz-group",swipePanel:".swipe-panel"},t=Array.from(document.querySelectorAll(e.cell)),n=function(t){const n=`\n            <p class="px-4">${t.answer}</p>\n            \n            <form action="#">\n                <label class="input-group" for="0">\n                    <input type="radio" id="0" name="input"/>\n                    <label for="0">&nbsp;</label><span class="ml-2">Expert A</span>\n                </label>\n                <label class="input-group" for="1">\n                    <input type="radio" id="1" name="input"/>\n                    <label for="1">&nbsp;</label><span class="ml-2">Expert B</span>\n                </label>\n                <label class="input-group" for="2">\n                    <input type="radio" id="2" name="input"/>\n                    <label for="2">&nbsp;</label><span class="ml-2">Expert C</span>\n                </label>\n                <label class="input-group" for="3">\n                    <input type="radio" id="3" name="input"/>\n                    <label for="3">&nbsp;</label><span class="ml-2">Expert D</span>\n                </label>\n            </form>\n        `;document.querySelector(e.quizGroup).insertAdjacentHTML("afterbegin",n)};return{getDOMStrings:function(){return e},removeActiveItemsClass:function(){Array.from(document.querySelectorAll(e.item)).forEach(e=>e.classList.remove("js-item-active"))},renderItem:function(t,n){const r=document.querySelector(e.itemsContainer);if(t){const e=`\n                    <div id="${t.replace("chosen","item")}" class="m-1 btn-group-choice js-item">\n                        <button class="btn rounded-0" type="button">\n                            <span>${n}</span>\n                        </button>\n                        <i class="far fa-hand-point-down"></i>\n                    </div>\n                `;r.insertAdjacentHTML("beforeend",e)}},renderAllItems:function(t){const n=document.querySelector(e.itemsContainer);n.innerHTML="",t.forEach((e,t)=>{const r=`\n                    <div id="item-${t}" class="m-1 btn-group-choice js-item">\n                        <button class="btn rounded-0" type="button">\n                            <span>${e}</span>\n                        </button>\n                        <i class="far fa-hand-point-down"></i>\n                    </div>\n                `;n.insertAdjacentHTML("beforeend",r)})},renderRightItems:function(t,n){t.forEach((e,t)=>{let r=`\n                    <div class="pl-3 btn-group-choice js-right-item">\n                        <span>${n[t]}</span>\n                    </div>\n                `;document.getElementById(e.id).insertAdjacentHTML("beforeend",r)}),document.querySelector(e.btnShowAnswers).style.display="none",document.querySelector(e.btnHideAnswers).style.display="block"},hideRightItems:function(t){t.forEach(e=>e.lastElementChild.style.display="none"),document.querySelector(e.btnShowAnswers).style.display="block",document.querySelector(e.btnHideAnswers).style.display="none"},addActiveItemClass:function(e){this.removeActiveItemsClass(),document.getElementById(e).classList.add("js-item-active")},addActiveCellsClass:function(){t.forEach(e=>e.classList.add("js-cell-active"))},removeActiveCellsClass:function(){t.forEach(e=>e.classList.remove("js-cell-active"))},renderChosenItem:function(e,t,n){const r=document.getElementById(n);if(t){r.innerHTML="";const n=`\n                    <div id="${e.replace("item","chosen")}" class="btn-group-choice js-chosen">\n                        <button class="btn rounded-0" type="button">\n                            <span>${t}</span>\n                        </button>\n                        <i class="far fa-hand-point-down"></i>\n                    </div>\n                `;r.insertAdjacentHTML("beforeend",n)}},removeChosenItem:function(e){if(e){const t=document.getElementById(e);t.parentElement.removeChild(t)}},getAllCells:function(){return t},clearAllCells:function(){t.forEach(e=>e.innerHTML="")},renderModal:function(...t){const n=t[0],r=t[1],s=document.querySelector(e.modalBody),o=document.querySelector(e.modalFooter),i=document.querySelector(e.btnAgain),l=document.querySelector(e.btnFinishHide),a=document.querySelector(e.btnFeedback),c=document.querySelector(e.btnShowAnswers);s.textContent=`Total score is: ${n} out of ${r} (${Math.round(n/r*100)}%)`,[l,o].forEach(e=>e.style.display="none"),[a,c].forEach(e=>e.style.display="block"),i.disabled=!1},restartUI:function(){document.querySelector(e.remainLabel).textContent=6,document.querySelector(e.btnShowAnswers).style.display="none",document.querySelector(e.btnShowFeedback).style.display="none",document.querySelector(e.btnFinishHide).style.display="block",document.querySelector(e.modalFooter).style.display="flex",document.querySelector(e.btnFinish).disabled=!0,document.querySelector(e.btnAgain).disabled=!0,document.querySelector(e.btnHideAnswers).style.display="none"},renderAskModal:function(t,n){document.querySelector(e.modalBody).textContent=`Answered questions: ${t} out of ${n}. Do you want to finish?`},checkAnswers:function(e,t){let n=[];return e.forEach((e,r)=>{t[r]&&(e===t[r].innerText?(t[r].style.backgroundColor="#b7e9bf",n.push(!0),t[r].lastElementChild.className="fas fa-check",t[r].lastElementChild.style.color="#086e18"):(t[r].style.backgroundColor="#fac8c1",t[r].lastElementChild.className="fas fa-times",t[r].lastElementChild.style.color="#d80d0d"))}),n.length},renderButton:function(e,t){return console.log(e),`\n                <button class="btn mr-2" data-gotopage=${"next"===t?e+1:e-1}>\n                    <i class="fas fa-angle-${"next"===t?"right":"left"}"></i>\n                </button>\n            `},renderButtons:function(t,n,r){let s;const o=n/r;1===t?s=this.renderButton(t,"next"):t>1&&t<o?s=`${this.renderButton(t,"prev")}\n                          ${this.renderButton(t,"next")}`:t===o&&(s=this.renderButton(t,"prev")),document.querySelector(e.swipePanel).insertAdjacentHTML("afterbegin",s)},renderQuizAnswers:function(e,t=1,r=1){const s=(t-1)*r,o=t*r;e.slice(s,o).forEach(n),this.renderButtons(t,e.length,r)},prepareQuizButtons:function(){document.querySelector(e.quizGroup).innerHTML="",document.querySelector(e.swipePanel).innerHTML=""}}}(),controller=function(e,t){const n=function(){const n=t.getAllCells(),r=n.map(e=>e.firstElementChild),s=e.getRightAnswers();return e.sortAnswers(r),[e.getSortAnswers(),s,n]},r=function(n){const r=n.target.closest(".js-item"),s=e.getPass();if(r&&s){const s=n.target.closest(".js-item").textContent;t.addActiveItemClass(r.id,s),t.addActiveCellsClass(),e.setValues(r.id,s)}else t.removeActiveItemsClass(),t.removeActiveCellsClass()},s=function(n){const r=e.getSetValues(),s=n.target.closest(".js-cell"),o=n.target.closest(".js-chosen"),i=e.getPass();s&&r.itemID&&i&&t.removeChosenItem(r.itemID),s&&i&&(t.renderChosenItem(r.itemID,r.itemText,s.id),t.removeActiveCellsClass(),o&&""===r.itemID&&""===r.itemText&&i&&(t.removeChosenItem(o.id),t.renderItem(o.id,o.textContent),e.removeItem(o.id),e.updateRemainLabel()),o&&r.itemID&&r.itemText&&i&&(e.removeItem(r.itemID),e.updateRemainLabel(),t.renderItem(o.id,o.textContent)),e.addItem(r.itemID),e.updateRemainLabel(),e.resetValues(),t.removeActiveItemsClass())},o=function(){let r=n();if(r[0].length<6)t.renderAskModal(r[0].length,r[2].length),document.querySelector(".btn--ok").addEventListener("click",()=>{const n=t.checkAnswers(r[1],r[0]);t.renderModal(n,r[2].length),e.passFalse()});else{const n=t.checkAnswers(r[1],r[0]);t.renderModal(n,r[2].length),e.passFalse()}},i=function(){e.clearSortAnswers()},l=function(){const e=n()[2];t.hideRightItems(e)},a=function(){const e=n(),r=e[2],s=e[1];t.renderRightItems(r,s)},c=function(){const n=e.getStartedValues();e.restartState(),t.renderAllItems(n),t.clearAllCells(),t.restartUI()},d=function(){const n=e.getQuizAnswers();t.renderQuizAnswers(n)};return{init:function(){!function(){const n=t.getDOMStrings(),u=document.querySelector(n.backdrop),m=document.querySelector(n.btnCancel);document.querySelector(n.itemsContainer).addEventListener("click",r),document.querySelector(n.inputsContainer).addEventListener("click",s),document.querySelector(n.btnHideAnswers).addEventListener("click",l),document.querySelector(n.btnShowAnswers).addEventListener("click",a),document.querySelector(n.btnAgain).addEventListener("click",c),document.querySelector(n.btnFinish).addEventListener("click",o),[u,m].forEach(e=>e.addEventListener("click",i)),document.addEventListener("DOMContentLoaded",d),document.querySelector(n.swipePanel).addEventListener("click",n=>{n.preventDefault();const r=parseInt(n.target.closest(".btn").dataset.gotopage);if(r){const n=e.getQuizAnswers();t.prepareQuizButtons(),t.renderQuizAnswers(n,r)}})}(),console.log("The app has been started")}}}(dataController,UIController);controller.init();