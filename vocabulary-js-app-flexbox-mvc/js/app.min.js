var dataController=function(){var e=function(e,t,n){this.id=e,this.from=t,this.into=n},t={allWords:[],totals:[]};return{addWord:function(n,o){var r,l;return l=t.allWords.length>0?t.allWords[t.allWords.length-1].id+1:1,r=new e(l,n,o),t.allWords.push(r),r},calculateTotal:function(){var e;e=0,t.allWords.forEach(function(t){e=+t.id}),t.totals=e},getData:function(){return t.allWords},getTotal:function(){return t.totals},deleteWord:function(e){var n;n=t.allWords.map(function(e){return e.id}).indexOf(e),t.allWords.splice(n,1)}}}(),UIController=function(){var e,t,n;return e=dataController.getData(),n=function(){document.documentElement.classList.add("transition"),window.setTimeout(function(){document.documentElement.classList.remove("transition")},1e3)},t={inputFrom:".vocabulary-panel__add-from",inputInto:".vocabulary-panel__add-into",inputBtn:".vocabulary-panel__btn",wordsContainer:".vocabulary-panel__box",btnHide:".eye__hide",btnShow:".eye__show",btnDelete:".heading-tertiary--delete",labelTotal:".heading-tertiary--number",labelDate:".heading-secondary",switchBtn:".btn"},{getWord:function(){return{from:document.querySelector(t.inputFrom).value,into:document.querySelector(t.inputInto).value}},addListWord:function(e){var n;n=(n=(n='<ul class="item mt-10px" id="word-%id%"><li class="item__from">%from%</li><li class="item__into">%into%</li><li><button class="item__delete"><i class="icon ion-close-circled"></i></button></li></ul>'.replace("%id%",e.id)).replace("%from%",e.from)).replace("%into%",e.into),document.querySelector(t.wordsContainer).insertAdjacentHTML("beforeend",n)},clearFields:function(){var e,n;e=document.querySelectorAll(t.inputFrom+", "+t.inputInto),(n=Array.prototype.slice.call(e)).forEach(function(e,t,n){e.value=""}),n[0].focus()},displayTotal:function(e){document.querySelector(t.labelTotal).textContent=e},addMenu:function(){e.length>0&&document.querySelector(t.btnHide).classList.add("active")},deleteListWord:function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)},removeMenu:function(){e.length<=0&&document.querySelector(t.btnHide).classList.remove("active")},hideList:function(){e.length>0&&(document.querySelector(t.btnHide).style.display="none",document.querySelector(t.btnShow).style.display="flex",document.querySelector(t.wordsContainer).style.display="none")},showList:function(){e.length>0&&(document.querySelector(t.btnHide).style.display="flex",document.querySelector(t.btnShow).style.display="none",document.querySelector(t.wordsContainer).style.display="block")},deleteAllList:function(){for(var e=document.querySelector(t.wordsContainer),n=e.lastElementChild;n;)e.removeChild(n),n=e.lastElementChild},lightTheme:function(){n(),document.documentElement.setAttribute("data-theme","light")},darkTheme:function(){n(),document.documentElement.setAttribute("data-theme","dark")},getDOMstrings:function(){return t},displayDate:function(){var e,n,o,r;r=(e=new Date).getFullYear(),n=e.getMonth(),o=["January","February","March","April","May","June","July","August","September","October","November","December"],document.querySelector(t.labelDate).textContent=o[n]+" | "+r}}}(),controller=function(e,t){var n=function(){var n,r;n=t.getWord(),/[a-zA-Z]/.test(n.from)&&/[а-яА-Я]/.test(n.into)&&(r=e.addWord(n.from,n.into),t.addListWord(r),t.addMenu(),t.clearFields(),o())},o=function(){e.calculateTotal();var n=e.getTotal();t.displayTotal(n)},r=function(n){var r;(r=n.target.parentNode.parentNode.parentNode.id)&&(e.deleteWord(),t.deleteListWord(r),o(),t.removeMenu())},l=function(){t.hideList()},i=function(){t.showList()},a=function(){e.getData().length=0,t.deleteAllList(),o(),t.removeMenu()},d=function(){this.checked?t.lightTheme():t.darkTheme()};return{init:function(){var e;e=t.getDOMstrings(),document.querySelector(e.inputBtn).addEventListener("click",n),document.addEventListener("keypress",function(e){13!==e.keyCode&&13!==e.which||n()}),document.querySelector(e.wordsContainer).addEventListener("click",r),document.querySelector(e.btnHide).addEventListener("click",l),document.querySelector(e.btnShow).addEventListener("click",i),document.querySelector(e.btnDelete).addEventListener("click",a),document.querySelector("input[name=theme]").addEventListener("change",d),t.displayDate(),t.displayTotal(data=0),console.log("Application has started")}}}(dataController,UIController);controller.init();